@{
    ViewData["Title"] = "Outstanding Balance";
    decimal outstandingBalance = (decimal)ViewBag.OutstandingBalance;
    string returnUrl = ViewBag.ReturnUrl;
}

<h1>Outstanding Balance</h1>

@if (TempData["SuccessMessage"] != null)
{
    <div class="alert alert-success" role="alert">
        @TempData["SuccessMessage"]
    </div>
}
@if (TempData["ErrorMessage"] != null)
{
    <div class="alert alert-danger" role="alert">
        @TempData["ErrorMessage"]
    </div>
}

<div class="card">
    <div class="card-header">
        Loan Application ID: @ViewContext.RouteData.Values["applicationId"]
    </div>
    <div class="card-body">
        <h5 class="card-title">Current Outstanding Balance:</h5>
        <p class="card-text">
            <strong>@outstandingBalance.ToString("C")</strong>
        </p>
    </div>
</div>

<div class="mt-3">
    @if (!string.IsNullOrEmpty(returnUrl) && Url.IsLocalUrl(returnUrl))
    {
        <a href="@returnUrl" class="btn btn-secondary">Back</a>
    }
    else
    {
        <a asp-action="Index" asp-controller="Home" class="btn btn-secondary">Back to Home</a>
    }
</div>